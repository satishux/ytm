var ytm;!function(t){"use strict";angular.module("ytm",["ytm.core","ytm.services","ytm.search","ytm.comment"])}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";angular.module("ytm.core",[])}(e=t.core||(t.core={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";angular.module("ytm.search",[])}(e=t.search||(t.search={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";angular.module("ytm.services",[])}(e=t.services||(t.services={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";angular.module("ytm.comment",["summernote"])}(e=t.comment||(t.comment={}))}(ytm||(ytm={}));var ytm;!function(t){"use strict";function e(t,e,n){e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t.html5Mode(!0),t.hashPrefix("!")}angular.module("ytm").config(e),e.$inject=["$locationProvider","$httpProvider","$interpolateProvider"]}(ytm||(ytm={}));var ytm;!function(t){"use strict"}(ytm||(ytm={}));var ytm;!function(t){function e(){}angular.module("ytm").run(e),e.$inject=[]}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";var e=function(){function t(t){this.$http=t,this.searchResults=null}return t.prototype.search=function(t){return this.$http.get("/api/youtube/search?data="+JSON.stringify(t)).then(function(t){return t.data})},t.$inject=["$http"],t}();t.SearchService=e,angular.module("ytm.services").service("searchService",e)}(e=t.services||(t.services={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(e){"use strict";var n=function(){function e(t,e){this.searchData={input:"",type:"video",order:"relevance",count:10},this.searchService=t,this.results=this.searchService.searchResults,this.$scope=e}return e.prototype.search=function(){var e=this,n=this.searchService.search(this.searchData),r=$("#search-results-box"),c=new t.helpers.ui.uiBlocker;c.blockElement(r),n.then(function(t){e.searchService.searchResults=e.results=t,c.unblockElement(r)})},e.prototype.select=function(t){console.log(t+" is selected")},e.prototype.remove=function(t){console.log(t+" is removed")},e.$inject=["searchService","$scope"],e}();angular.module("ytm.search").controller("searchController",n)}(e=t.search||(t.search={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";var e=function(){function t(t){this.searchService=t}return t.prototype.select=function(t){console.log(this.searchService.searchResults)},t.prototype.remove=function(t,e){this.searchService.searchResults=this.searchService.searchResults.filter(function(e){return e.videoId!==t}),e.remove()},t.$inject=["searchService"],t}(),n=function(){function t(){this.restrict="E",this.scope={result:"=resultData"},this.controller=e,this.template='\n                    <div class="row" style="display : block">\n                        <div class="col-md-12" style="padding : 20px; border : 1px solid #f1f1f1">\n                            <div class="pull-left">\n                                <div style="display: table-cell; vertical-align: top;">\n                                    <a href="https://www.youtube.com/watch?v=@{{ result.videoId }}" target="_blank">\n                                        <img ng-src="{{ result.thumbnailDefault }}">\n                                    </a>\n                                </div>\n                                <div style="display : table-cell; vertical-align: top; padding-left : 20px">\n                                    <h3 class="h5 font-600 m-b-5"><a href="https://www.youtube.com/watch?v={{ result.videoId }}" target="_blank" ng-bind="result.title"></a></h3>\n                                    <div class="font-13 text-success m-b-10" ng-bind="result.channelTitle">\n                                    </div>\n                                    <p ng-bind="result.description">\n                                    </p>\n                                </div>\n                            </div>\n\n                            <div class="action-buttons pull-right">\n                                <button class="btn btn-icon waves-effect waves-light" ng-class="{ \'btn-default\' : selected, \'btn-white\' : !selected }" ng-click="select(result.videoId)"> <i class="fa fa-check"></i> </button>\n                                <button class="btn btn-icon waves-effect waves-light btn-danger" ng-click="remove(result.videoId)"> <i class="fa fa-remove"></i> </button>\n                            </div>\n                        </div>\n                    </div>\n        '}return t.instance=function(){return new t},t.prototype.link=function(t,e,n,r){t.selected=!1,t.select=function(e){t.selected=!t.selected,r.select(e)},t.remove=function(t){r.remove(t,e)}},t}();angular.module("ytm.search").directive("searchResult",n.instance)}(e=t.search||(t.search={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";var e=function(){function t(t){this.$http=t}return t.prototype.comment=function(t,e){var n={comment:t,ids:e};return console.log(JSON.stringify(n)),this.$http({method:"POST",url:"/api/comment/insert",data:$.param(n)}).then(function(t){return t.data})},t.$inject=["$http"],t}();t.CommentService=e,angular.module("ytm.services").service("commentService",e)}(e=t.services||(t.services={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){"use strict";var e=function(){function t(t,e){this.searchService=t,this.commentService=e,this.commentText=""}return t.prototype.comment=function(){this.commentText=this.removeHTMLEntities(this.commentText);var t=this.getSearchResultsFields("videoId");this.commentService.comment(this.commentText,t).then(function(t){console.log(t)})},t.prototype.removeHTMLEntities=function(t){return $("<div />").html(t).text()},t.prototype.getSearchResultsFields=function(t){return this.searchService.searchResults.map(function(e){return e[t]})},t.$inject=["searchService","commentService"],t}();angular.module("ytm.comment").controller("commentController",e)}(e=t.comment||(t.comment={}))}(ytm||(ytm={}));var ytm;!function(t){var e;!function(t){var e;!function(t){"use strict";var e=function(){function t(){}return t.prototype.blockElement=function(t){var e=$("<div></div>",{"class":"panel-disabled"}),n=$("<div></div>",{"class":"loader-1"});e.append(n),t.append(e)},t.prototype.unblockElement=function(t){t.find(".panel-disabled").remove()},t}();t.uiBlocker=e}(e=t.ui||(t.ui={}))}(e=t.helpers||(t.helpers={}))}(ytm||(ytm={}));